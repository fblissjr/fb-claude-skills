last updated: 2026-02-14

# session log: 2026-02-14

## plugin structure migration to marketplace model (v0.4.0)

### problem
README.md and all plugin READMEs had incorrect CLI commands for installation:
- Used `claude plugin add` (doesn't exist) instead of `claude plugin install`
- Used `--plugin` flag (doesn't exist) for selecting subfolder plugins from GitHub URLs
- Used `claude plugin remove` instead of canonical `claude plugin uninstall`
- Plugin manifests at `plugin.json` (root) instead of canonical `.claude-plugin/plugin.json`
- No marketplace.json, making GitHub-based installation impossible

### what was done

1. **Migrated plugin manifests**: moved `plugin.json` to `.claude-plugin/plugin.json` for all four installable plugins (cogapp-markdown, mcp-apps, plugin-toolkit, web-tdd)
   - Removed non-standard `skills` and `agents` array fields (auto-discovery handles these)
   - Added `repository` field to all manifests

2. **Created marketplace**: added `.claude-plugin/marketplace.json` at repo root
   - Lists all four installable plugins with correct `source` paths
   - Marketplace name: `fb-claude-skills`
   - Enables: `/plugin marketplace add fblissjr/fb-claude-skills`

3. **Rewrote all installation docs**:
   - Root README.md: marketplace-based GitHub install (recommended), local clone install, development/testing with `--plugin-dir`, correct uninstall commands
   - All four plugin READMEs: updated to marketplace install flow
   - CLAUDE.md: updated repo structure tree and installation section
   - Usage section: corrected namespaced skill invocations

4. **Version bump**: 0.3.1 -> 0.4.0 (pyproject.toml + CHANGELOG.md)

### references used
- `docs/claude-docs/claude_docs_plugins.md` (cached official docs)
- `docs/claude-docs/claude_docs_plugin_reference.md` (cached CLI reference)
- Live docs: code.claude.com/docs/en/plugins, discover-plugins, plugin-marketplaces
- `docs/analysis/skills_guide_structured.md` (skills guide extraction)

### additional cleanup (pass 2)

5. **Evaluated heylook-monitor**: confirmed it's an MCP App (standalone MCP server + HTML UI), not a Claude Code plugin. Correctly excluded from marketplace.

6. **Updated CLAUDE.md "Adding a new skill module" checklist**: changed required structure to `.claude-plugin/plugin.json`, added note about auto-discovery, added marketplace.json registration step.

7. **Updated skill-maintainer config.yaml**: added `discover-plugins` and `plugin-marketplaces` to watched pages (now relevant since repo is a marketplace).

8. **Ran skills-ref validate on all 6 skills**: all pass validation.

9. **Replaced docs/claude-docs/ with clean markdown**:
   - `claude_docs_plugins.md`: replaced raw HTML scrape with clean markdown from live docs
   - `claude_docs_skills.md`: replaced raw HTML scrape with clean markdown from live docs
   - `claude_docs_plugin_reference.md`: updated with clean markdown from live docs
   - `claude_docs_discover_plugins.md` (new): install/marketplace management reference
   - `claude_docs_plugin_marketplaces.md` (new): marketplace creation/distribution reference
   - All files include `<!-- source: -->` and `<!-- fetched: -->` headers for provenance

10. **Updated docs/analysis/skills_guide_analysis.md**: added plugin structure compliance section (all PASS for v0.4.0), marked web-tdd README.md issue as RESOLVED, updated date.

### files changed
- `.claude-plugin/marketplace.json` (new)
- `cogapp-markdown/.claude-plugin/plugin.json` (moved from `cogapp-markdown/plugin.json`)
- `mcp-apps/.claude-plugin/plugin.json` (moved from `mcp-apps/plugin.json`)
- `plugin-toolkit/.claude-plugin/plugin.json` (moved from `plugin-toolkit/plugin.json`)
- `web-tdd/.claude-plugin/plugin.json` (moved from `web-tdd/plugin.json`)
- `README.md`
- `CLAUDE.md`
- `CHANGELOG.md`
- `pyproject.toml`
- `cogapp-markdown/README.md`
- `mcp-apps/README.md`
- `plugin-toolkit/README.md`
- `web-tdd/README.md`
- `skill-maintainer/config.yaml`
- `docs/claude-docs/claude_docs_plugins.md` (replaced)
- `docs/claude-docs/claude_docs_skills.md` (replaced)
- `docs/claude-docs/claude_docs_plugin_reference.md` (replaced)
- `docs/claude-docs/claude_docs_discover_plugins.md` (new)
- `docs/claude-docs/claude_docs_plugin_marketplaces.md` (new)
- `docs/analysis/skills_guide_analysis.md`

### doc audit (pass 3)

11. **Created skill-maintainer/README.md**: was the only module without one. Covers usage, scripts, monitored sources, tracked skills, state format.

12. **Updated docs/README.md**: added claude-docs contents table (was just "skills page", now enumerates all 5 docs). Updated date.

13. **Updated CHANGELOG.md**: v0.4.0 entry now includes pass-2 and pass-3 work.

#### additional files changed
- `skill-maintainer/README.md` (new)
- `docs/README.md`
- `CHANGELOG.md`
- `internal/log/log_2026-02-14.md`
